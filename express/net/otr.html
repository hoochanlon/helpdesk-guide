<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>其他上网问题 | 《企业信息建设运维实战》</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="favicon.ico">
    <meta name="description" content="系统主机及网络故障综合处理与信息安全自动化运维方案。">
    
    <link rel="preload" href="/helpdesk-guide/assets/css/0.styles.4202b1eb.css" as="style"><link rel="preload" href="/helpdesk-guide/assets/js/app.be329e15.js" as="script"><link rel="preload" href="/helpdesk-guide/assets/js/2.f9830e7c.js" as="script"><link rel="preload" href="/helpdesk-guide/assets/js/1.d111bb68.js" as="script"><link rel="preload" href="/helpdesk-guide/assets/js/40.1638bcfc.js" as="script"><link rel="prefetch" href="/helpdesk-guide/assets/js/10.0bac833c.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/11.6d1220ff.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/12.f8085e84.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/13.c58234ba.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/14.2afe7395.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/15.c514c181.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/16.139a31f5.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/17.f96b764a.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/18.8f5556b6.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/19.0559710a.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/20.443c0ea6.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/21.1aef1aca.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/22.65fd2f11.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/23.d9eb8881.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/24.8fb0bd42.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/25.2280ff74.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/26.6ab202b9.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/27.fea62ef4.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/28.696291d5.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/29.7cef6e31.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/3.69cb342a.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/30.1c9083b5.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/31.04b8c46e.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/32.767e4558.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/33.3f00716d.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/34.746d2597.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/35.fb62de45.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/36.541f7a6f.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/37.2d7efaec.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/38.f9b56b16.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/39.25ce8ffa.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/4.f199ab2b.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/41.02d1b298.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/42.7f6f5d7f.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/43.7029c22b.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/44.7eff4c10.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/45.8de8974a.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/46.b0d09610.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/47.6f28ce83.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/48.49bc1835.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/49.ea4395fd.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/5.03feb293.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/50.c4b31ce3.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/51.3f3a235a.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/52.016671df.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/53.17f3233f.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/54.8d361c1f.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/55.1eff4090.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/56.11f6c1db.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/57.7bddd3a4.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/58.6db37854.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/59.4ae82043.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/6.cf297c62.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/60.a867b81d.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/61.801daf33.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/62.d4731e8f.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/63.fa0ec181.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/64.659d0e03.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/65.768104ed.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/66.797f07a0.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/67.f5e84d21.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/68.77f9f0ad.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/69.6bf728e2.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/7.b04f2031.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/70.137c66ae.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/71.42365851.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/72.7197a2db.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/73.a39b0f71.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/74.1a3f1d93.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/75.b86ad22c.js"><link rel="prefetch" href="/helpdesk-guide/assets/js/vendors~docsearch.0644ee0a.js">
    <link rel="stylesheet" href="/helpdesk-guide/assets/css/0.styles.4202b1eb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/helpdesk-guide/" class="home-link router-link-active"><!----> <span class="site-name">《企业信息建设运维实战》</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CC-BY-NC 4.0
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/hoochanlon/helpdesk-guide/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CC-BY-NC 4.0
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/hoochanlon/helpdesk-guide/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>桌维必修业务终端维护</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/helpdesk-guide/express/star/cx.html" class="sidebar-link">电脑硬件思维导图与软件程序采集</a></li><li><a href="/helpdesk-guide/express/star/cxpj.html" class="sidebar-link">电脑程序软件被破解原因说明</a></li><li><a href="/helpdesk-guide/express/zd/qyzz.html" class="sidebar-link">企业组装主机测试</a></li><li><a href="/helpdesk-guide/express/zd/cz.html" class="sidebar-link">主机系统重装与硬件组装</a></li><li><a href="/helpdesk-guide/express/zd/printer.html" class="sidebar-link">典型打印机使用安装及调试</a></li><li><a href="/helpdesk-guide/express/zd/tyy.html" class="sidebar-link">吊顶式投影仪安装与调试</a></li><li><a href="/helpdesk-guide/enhance/dsplus/ddvmt.html" class="sidebar-link">办公视频会议</a></li><li><a href="/helpdesk-guide/express/star/zgbx.html" class="sidebar-link">耗材自购与其他报销补贴</a></li><li><a href="/helpdesk-guide/enhance/ie/master.html" class="sidebar-link">OA/ERP系统IE平台维护</a></li><li><a href="/helpdesk-guide/express/star/zic.html" class="sidebar-link">供应链资产管理知识储备</a></li><li><a href="/helpdesk-guide/enhance/zd/mac-remote.html" class="sidebar-link">Mac-Win跨平台建立远程桌面</a></li><li><a href="/helpdesk-guide/enhance/zd/mac-re.html" class="sidebar-link">苹果重装与个人信息删除</a></li><li><a href="/helpdesk-guide/zjjy/rhjy.html" class="sidebar-link">入行桌维章节结语</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>岗位手册与季度报告</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/helpdesk-guide/express/bid/gan-wei-man-gs.html" class="sidebar-link">岗位手册编写格式</a></li><li><a href="/helpdesk-guide/express/bid/gan-wei-man.html" class="sidebar-link">甲方公司岗位工作手册</a></li><li><a href="/helpdesk-guide/express/bid/ji-du-bao-gao.html" class="sidebar-link">驻场IT运维服务季度报告</a></li><li><a href="/helpdesk-guide/express/bid/tou-biao-shu.html" class="sidebar-link">甲方公司桌面运维项目服务（投标书）</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>电话与主机网络维护</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/helpdesk-guide/zjjy/dhkp.html" class="sidebar-link">主机网络维护与信息安全章节说明</a></li><li><a href="/helpdesk-guide/enhance/net/bgsdhbs.html" class="sidebar-link">办公室电话接入部署</a></li><li><a href="/helpdesk-guide/enhance/net/bq.html" class="sidebar-link">搬迁遇到的上网问题</a></li><li><a href="/helpdesk-guide/enhance/net/sghdhyl.html" class="sidebar-link">由施工后转向溯源电话运作原理</a></li><li><a href="/helpdesk-guide/enhance/net/netz.html" class="sidebar-link">网络设备组装发展过程略</a></li><li><a href="/helpdesk-guide/express/net/jftx.html" class="sidebar-link">办公网络接入层运营</a></li><li><a href="/helpdesk-guide/express/net/xdzhg.html" class="sidebar-link">由园区停电账号认证报错引发的思考</a></li><li><a href="/helpdesk-guide/enhance/net/neta.html" class="sidebar-link">彻底理清IP地址、子网掩码、网关</a></li><li><a href="/helpdesk-guide/enhance/net/dlyfw.html" class="sidebar-link">多级SOHO路由访问原理</a></li><li><a href="/helpdesk-guide/enhance/net/dlsw.html" class="sidebar-link">代理上网异常排查问题</a></li><li><a href="/helpdesk-guide/express/net/otr.html" aria-current="page" class="active sidebar-link">其他上网问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/helpdesk-guide/express/net/otr.html#追踪ip冲突" class="sidebar-link">追踪IP冲突</a></li><li class="sidebar-sub-header"><a href="/helpdesk-guide/express/net/otr.html#小型服务器上网问题" class="sidebar-link">小型服务器上网问题</a></li><li class="sidebar-sub-header"><a href="/helpdesk-guide/express/net/otr.html#从内网hub接入wi-fi路由器到加密客户端主机资源访问通信" class="sidebar-link">从内网Hub接入Wi-Fi路由器到加密客户端主机资源访问通信</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>主机信息安全</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/helpdesk-guide/express/script/bat.html" class="sidebar-link">Batch批量可并发业务编程</a></li><li><a href="/helpdesk-guide/express/secure/trojan.html" class="sidebar-link">信息病毒防控录</a></li><li><a href="/helpdesk-guide/express/secure/aliyund.html" class="sidebar-link">阿里云主机被攻击记录</a></li><li><a href="/helpdesk-guide/express/secure/blue.html" class="sidebar-link">永恒之蓝再处理</a></li><li><a href="/helpdesk-guide/express/secure/fwmreg.html" class="sidebar-link">防火墙邮件拦截与杀软残留项清除</a></li><li><a href="/helpdesk-guide/express/secure/cunchu.html" class="sidebar-link">存储知识储备</a></li><li><a href="/helpdesk-guide/express/secure/bgx.html" class="sidebar-link">业务故障类排查手法</a></li><li><a href="/helpdesk-guide/express/talk/iandc.html" class="sidebar-link">关于ITIL及CISSP的想法</a></li><li><a href="/helpdesk-guide/express/notice/support.html" class="sidebar-link">如何优化桌面维护工作？</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>致谢</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/helpdesk-guide/thanks.html" class="sidebar-link">感谢有你们在！</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="其他上网问题"><a href="#其他上网问题" class="header-anchor">#</a> 其他上网问题</h1> <h2 id="追踪ip冲突"><a href="#追踪ip冲突" class="header-anchor">#</a> 追踪IP冲突</h2> <p>通过ping网关提示的“ping传输失败，常见故障”，在<code>ipconfig /all</code>中所显示的IP地址居然是169.254.181.73，在这地址右边括弧首选，更让人愈发莫名其妙不明所以。检查网线、网口是没问题的，把机器换到扫描仪工位启动，情况却依旧如此，可这究竟是什么问题呢？</p> <p>就在一筹莫展之时，拔掉扫描仪主机的网线，将扫描仪主机的IP更换到我们遇到故障的当前机器上。此时使用<code>ipconfig /all</code>发现ip地址不再是169.254网段，而是我们所设置的192.168.1.xx；于是通过<code>arp -a</code>查看路由跃点找到了故障机器所设置的ip——1.99的mac地址，再ping该ip时，惊奇发现居然能ping通。由此可确定此次异常为ip冲突造成，可究竟是谁？</p> <p>一般相当规模化的公司一般会将工位上的主机直接与姓名关联，但测试办公区域人员流动性大，测试人员因研发需求通常会自行设定ip地址，由于规定范围不是强制性措施，因此普遍自主设定ip网段数值较为随意。由于经理的IP处在测试的同网段中，IP最后的四位十进制数在随机测试IP的邻近十以内，风险性也随之增高。</p> <p>使用飞秋输入ip地址并未查找到主机，此时1.99却能依旧ping通，于是我们使用管控端工具去锁定目标。可管控工具只能在主机在线的情况才能看到，于是打开机柜将网线插入核心交换机，将插入交换机的主机改为办公区局域网ip，<code>ping 192.168.1.99 -t</code>，逐根拔网线。</p> <p>在此事件后，<a href="https://jingyan.baidu.com/article/636f38bb82a926d6b8461081.html" target="_blank" rel="noopener noreferrer">百度经验-如何防止局域网IP冲突 检测并防止电脑IP冲突<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>给了我很好的启发。</p> <ul><li>使用上网管控软件将IP- Mac绑定</li> <li>路由器添加静态地址保留</li></ul> <h2 id="小型服务器上网问题"><a href="#小型服务器上网问题" class="header-anchor">#</a> 小型服务器上网问题</h2> <p>同事报故障为“安卓服务器上不了网”，查看IP信息为主机内网IP，另一个网卡IP不知做什么用的，通常主机内网是需要登录上网认证的，可Linux命令行是无法完成这一操作的。网线从信息点端口接入到傻瓜交换机，服务器这边有两个网口，一个连接着交换机，一个连接着路由器，而这究竟代表什么意思呢？</p> <p><img src="https://i.loli.net/2021/07/13/cMWJBoiTqLnwZXl.jpg" alt="56A154BA-4039-4F8D-BA62-AF819A8E1D93_1_105_c.jpeg"></p> <p>服务器一般有2-4网卡，这里的服务器有两块网卡，一个网口连接在傻瓜交换机上，另一个接到家用路由器上。一般企业上网的主机是需要进行上网终端认证的，但安卓服务器的系统是Linux命令行界面，所以没办法使用上网认证的终端，也不能登录到网页端。</p> <p>这个时候，从傻瓜交换机的网口中接入新加入的家用路由器，将家用路由器的ip解除登录认证限制，服务器网关设置成家用路由器的IP地址，再将网口IP设置成路由器同网段内的IP。</p> <p>从下图中可以感受到实物与拓扑之间的差异，拓扑是条理清晰的，实体由于环境需要被重新规划部署多根网线连接到其他主机或服务器，就显得有些杂乱无章。</p> <p><img src="https://i.loli.net/2021/07/13/ML7DuwlTgJCdnYz.png" alt="截屏2021-07-13 下午4.40.39.png"></p> <p>关于Linux的网络配置修改可参考：<a href="https://www.cnblogs.com/shuaixf/archive/2011/11/29/2267863.html" target="_blank" rel="noopener noreferrer">shuaixf-Linux修改网络配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="从内网hub接入wi-fi路由器到加密客户端主机资源访问通信"><a href="#从内网hub接入wi-fi路由器到加密客户端主机资源访问通信" class="header-anchor">#</a> 从内网Hub接入Wi-Fi路由器到加密客户端主机资源访问通信</h2> <p>因调试网页手机画面需要，内网上的生成的网页在手机上也能访问到，为了解决这一问题，在内网Hub上接入Wi-Fi路由器，再用手机访问内网主机生成的调试站点。基于这样的设想，我首先在Hub上接上Wi-Fi路由器，wan口配置内网IP，lan口则分配成其他网段，就等着手机连上去访问生成的内网主机站点了。但手机连上Wi-Fi后却访问不了内网主机生成的站点，却不知道为什么，一时半会没想明白，后来经过指点，用拓扑图一画，真是猛然间豁然开朗的感觉，啊，🤦‍♂️，原来内网主机还是得接入到路由器lan口上来访问…</p> <p><img src="https://s1.xoimg.com/i/2022/05/07/dudlcb.png" alt="Pasted Graphic"></p> <p>接下来就是发生让我十分疑惑不解的现象：接上路由器lan口的主机能ping通内网生成站点的主机、加密服务器、网关，可就是用网页访问不了生成的站点…查看拦截事件找不到有关联的拦截记录，也就发现站点生成器node的拦截记录，经过主管提醒主要的是查找winsock的拦截记录，当还在忙瞎找的同时，主管再一次提起画拓扑图，于是事情也就再一次有了眉目。
￼
<img src="https://s1.xoimg.com/i/2022/05/07/ducuyr.png" alt="fafo"></p> <p>看一下拓扑的网络访问图示，我恍然察觉我并没有用另一台加密沙盒主机去访问内网生成站点的加密沙盒主机，想到这一点立即实施后惊奇地发现“可以哦”，能正常访问站点的。之后就是为什么找不到拦截记录？也就是找不到拦截记录的原因分析：</p> <ul><li>受总控影响，加密沙盒客户端拒绝向外部发送资源，只能是都装有沙盒主机相互访问文件资源</li> <li>沙盒服务器端，由于是主控的原因，可能并不受多台沙盒主机配对一致才能访问的影响</li></ul> <p>由于手机并没有沙盒客户端，所以这事也就暂时先用着仿真软件模拟实机测试网页画面了。事后细想，一开始内网IP不能ping通同级路由器下的lan口子网想不明白，其实上我对<a href="https://zhuanlan.zhihu.com/p/147990921" target="_blank" rel="noopener noreferrer">静态路由<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的不理解，知识点也相当不扎实；在追踪拦截记录上，后来也是查阅了相关winsock的资料：<a href="https://wenku.baidu.com/view/9e1b09c2cad376eeaeaad1f34693daef5ef7133f.html" target="_blank" rel="noopener noreferrer">winsock简介<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，了解了为什么针对winsock拦截的原因；加密客户端通信机制与资源访问上，由于我缺乏基础了解该软件产品特性，逻辑推理嘛，很差…临场能力有待加强。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/helpdesk-guide/enhance/net/dlsw.html" class="prev">
        代理上网异常排查问题
      </a></span> <span class="next"><a href="/helpdesk-guide/express/script/bat.html">
        Batch批量可并发业务编程
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/helpdesk-guide/assets/js/app.be329e15.js" defer></script><script src="/helpdesk-guide/assets/js/2.f9830e7c.js" defer></script><script src="/helpdesk-guide/assets/js/1.d111bb68.js" defer></script><script src="/helpdesk-guide/assets/js/40.1638bcfc.js" defer></script>
  </body>
</html>
